@using AzureNamingTool.Helpers
@using AzureNamingTool.Models
@using AzureNamingTool.Components.General
@using AzureNamingTool.Components.Instructions
@inject StateContainer state
@inject ProtectedSessionStorage session
@inject IToastService toastService
@inject ILogger<PasswordModal> Logger

<div class="modern-modal-content">
    @if (GeneralHelper.IsNotNull(message))
    {
        <div class="mb-3">
            @((MarkupString)message)
        </div>
    }
    @switch (component)
    {
        case "generateinstructions":
            <div class="mb-3">
                <GenerateInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "generatednamesloginstructions":
            <div class="mb-3">
                <GeneratedNamesLogInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "toolconfigurationinstructions":
            <div class="mb-3">
                <ConfigurationInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "actionslegendinstructions":
            <div class="mb-3">
                <ActionsLegendInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "referenceinstructions":
            <div class="mb-3">
                <ReferenceInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "adminconfigurationinstructions":
            <div class="mb-3">
                <AdminConfigurationInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "adminloginstructions":
            <div class="mb-3">
                <AdminLogInstructions theme="@theme" admin="@admin" />
            </div>
            break;
        case "externalcontent":
            <div class="mb-3">
                <ExternalContent theme="@theme" admin="@admin" externalurl="@externalurl"/>
            </div>
            break;
    }
</div>

@code {

    [Parameter]
    public EventCallback<bool> OnClose { get; set; }
    [CascadingParameter] BlazoredModalInstance ModalInstance { get; set; } = new();
    [Parameter] public ThemeInfo theme { get; set; } = new();

    [Parameter] public string title { get; set; } = String.Empty;
    [Parameter] public string message { get; set; } = String.Empty;
    [Parameter] public string headerstyle { get; set; } = String.Empty;
    [Parameter] public object component { get; set; } = new();
    [Parameter] public bool admin { get; set; } = false;
    [Parameter] public string externalurl { get; set; } = String.Empty;


    async Task Confirm() => await ModalInstance.CloseAsync();

    async Task Cancel() => await ModalInstance.CancelAsync();

}